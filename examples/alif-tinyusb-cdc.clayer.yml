# yaml-language-server: $schema=https://raw.githubusercontent.com/Open-CMSIS-Pack/devtools/tools/projmgr/2.3.0/tools/projmgr/schemas/clayer.schema.json
layer:
  description: TinyUSB with Alif Ensemble compatibility layer

  define:
    - CFG_TUSB_RHPORT0_MODE: OPT_MODE_DEVICE

  #layers:
  #  - layer: alif-tinyusb.clayer.yaml

  groups:
    - group: Alif USB low level driver for TinyUSB device mode
      files:
        - file: ../lib/tinyusb/src/portable/alif/alif_e7_dk/dcd_ensemble.c

    - group: TinyUSB device mode sources
      files:
        - file: ../lib/tinyusb/src/device/usbd.c
        - file: ../lib/tinyusb/src/device/usbd_control.c
        - file: ../lib/tinyusb/src/class/cdc/cdc_device.c
        - file: ../lib/tinyusb/src/class/msc/msc_device.c
        - file: ../lib/tinyusb/src/class/hid/hid_device.c
        - file: ../lib/tinyusb/src/class/net/ncm_device.c
        - file: ../lib/tinyusb/src/class/video/video_device.c

  add-path:
    - ../lib/tinyusb/src/portable/alif/alif_e7_dk
